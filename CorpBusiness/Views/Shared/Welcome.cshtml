
@model CorpBusiness.Models.Vendor


@{
    ViewBag.Title = "Welcome";
    Layout = "~/Views/Shared/_SiteLayout.cshtml";
}
<script src="../../Scripts/jquery-lang.js" charset="utf-8" type="text/javascript"></script>
<script src="../../Scripts/th.js"  charset="utf-8" type="text/javascript"></script>
<script src="../../Scripts/it.js" type="text/javascript"></script>
<script type="text/javascript">
    window.lang = new jquery_lang_js();
    $().ready(function () {
        window.lang.run();
    });
</script>

<h1><span lang="en">Welcome In Corporate Business World!</span></h1>
@*<marquee><h1 lang="en">Lease Years Remaining</h1></marquee>*@
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>


<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.5/leaflet.css" />
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script type="text/javascript" src="http://cdn.leafletjs.com/leaflet-0.5/leaflet.js"></script>
@*<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js" type="text/javascript"></script>*@
<script src="../../Scripts/jquery-lang.js" charset="utf-8" type="text/javascript"></script>
<script src="../../Scripts/th.js" charset="utf-8" type="text/javascript"></script>
<script src="../../Scripts/it.js" charset="utf-8" type="text/javascript"></script>
<script type="text/javascript">
    window.lang = new jquery_lang_js();
    $().ready(function () {
        window.lang.run();
    });
</script>
<!--<script type="text/javascript">
    var address, lat, lon;
    var map;
    function loc1() {
    
        document.getElementById("map_canvas").innerHTML = "";
        address = document.getElementById("Pin").value
        //  alert(address);
        var geocoder = new google.maps.Geocoder();

        geocoder.geocode({ 'address': address }, function (results, status) {

            if (status == google.maps.GeocoderStatus.OK) {

                lat = results[0].geometry.location.lat();

                lon = results[0].geometry.location.lng();

                document.getElementById("Longitude").value = lon;
                document.getElementById("Latitude").value = lat;


                map = L.map('map_canvas').setView([lat, lon], 12, true);


                L.tileLayer('http://{s}.tile.cloudmade.com/BC9A493B41014CAABB98F0471D759707/997/256/{z}/{x}/{y}.png', {
                    maxZoom: 18,
                    attribution: 'Map'
                }).addTo(map);

                L.control.scale().addTo(map);

                L.marker([lat, lon]).addTo(map)
			.bindPopup("<b>Hello!</b><br />...").openPopup();
                //"<b>Hello!</b><br />..."

                var popup = L.popup();
                function onMapClick(e) {
                    popup
				.setLatLng(e.latlng)
                    //.setContent("You clicked the map at " + e.latlng.toString())
				.openOn(map);

                    ///////////////////////////
                    //L.marker(e.latlng).addTo(map)

                    document.getElementById("Longitude").value = e.latlng.lng.toString();
                    document.getElementById("Latitude").value = e.latlng.lat.toString();
                }

                map.on('click', onMapClick);

            }
        });



        //  map.on('click', onMapClick);
    }
    </script>-->

    <script type="text/javascript">
        var linkad = "";
        var address, lat, lon, map, str1, str;
        var addlink2 = "";
        //    var latlon = new Array();
        function split() {

            str = document.getElementById("addrs").value;
            // var str1 = document.getElementById("LtLn").value;
            //str2 = document.getElementById("ct_zp").value;
            //alert(str1);
            // var partsOfStr = str.split('~');          
            var stringArray = new Array();
            var stringArray1 = new Array();
            //var stringArray2 = new Array();
            var addlink = '', addlink1 = '';
            stringArray = str.split("~");
            //stringArray1 = str1.split("~");
            //stringArray2 = str2.split("~");

            for (i = 0; i < stringArray.length; i++) {
                //document.write("<br /> Array[" + i + " ]= " + stringArray[i]);
                addlink = addlink + stringArray[i] + '\r\n';
            }
            //            for (i = 0; i < stringArray1.length; i++) {
            //                addlink1 = addlink1 + stringArray1[i] + '\r\n';

            //            }
        }
        //
        //address = "Kolkata";
        //address = document.getElementById("Pin").value

        function loc1() {
            // debugger;
            //alert("dfg");
            //address = "Kolkata";
            address = document.getElementById("ct_zp").value;

            var geocoder = new google.maps.Geocoder();
            //    alert(address);
            geocoder.geocode({ 'address': address }, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {
                    lat = results[0].geometry.location.lat();
                    lon = results[0].geometry.location.lng();
                    ////////////////////////////////////////////////////////////////////////////////////////////////////
                    map = L.map('map_canvas').setView([lat, lon], 5, true);

                    L.tileLayer('http://{s}.tile.cloudmade.com/BC9A493B41014CAABB98F0471D759707/997/256/{z}/{x}/{y}.png', {
                        maxZoom: 18,
                        attribution: 'Map'
                    }).addTo(map);
                    L.control.scale().addTo(map);
                    //var map = L.map('map_canvas');
                    //                        var littleton = L.marker([lat, lon]);
                    //                        var addli;

                    //                        var stringArray2 = new Array();
                    //                        str1 = document.getElementById("LtLn").value;
                    //                        stringArray2 = str1;
                    //                        stringArray2 = str1.split("~");

                    //                        for (var i = 0; i < stringArray2.length - 1; i++) {

                    //                            addli =new L.marker(stringArray2[i]).bindPopup('This is Littleton, CO.') + ",";
                    //                            latlon = latlon + addli;

                    //                            marker.push(addli);
                    //                            map.addLayer(stringArray2[i]);

                    //                            //L.marker(addlink2).addTo(map).bindPopup("<b>Hello!</b><br />...").openPopup();

                    //                        }
                    //                        // alert(latlon);
                    //                        // var littleton1 = L.marker(addli);
                    //                        // alert(str1);


                    //                        var substr = latlon.substring(0, latlon.length - 1);
                    //                        // alert(substr);
                    //                        //var littleton1 = L.marker(substr);

                    //                        var cities = L.layerGroup([substr]);
                    //                        var cloudmadeUrl = 'http://{s}.tile.cloudmade.com/BC9A493B41014CAABB98F0471D759707/{styleId}/256/{z}/{x}/{y}.png',
                    //                        cloudmadeAttribution = '.';

                    //                        var minimal = L.tileLayer(cloudmadeUrl, { styleId: 22677, attribution: cloudmadeAttribution }),
                    //                        midnight = L.tileLayer(cloudmadeUrl, { styleId: 999, attribution: cloudmadeAttribution }),
                    //                        motorways = L.tileLayer(cloudmadeUrl, { styleId: 46561, attribution: cloudmadeAttribution });
                    //                        alert(cities);
                    //                        var map = L.map('map_canvas', {
                    //                            center: new L.LatLng(lat, lon),
                    //                            zoom: 10,
                    //                            layers: [minimal, motorways, cities]
                    //                        });
                    //                        var baseMaps = {
                    //                            "Minimal": minimal,
                    //                            "Night View": midnight
                    //                        };

                    //                        var overlayMaps = {
                    //                            "Motorways": motorways,
                    //                            "Cities": cities
                    //                        };
                    //                        L.control.layers(baseMaps, overlayMaps).addTo(map);
                    //                        L.control.scale().addTo(map);
                    //////////////////////////////////////////////////////////////////////////////////////////////////////

                    //var littleton = L.marker([lat, lon]);
                    // alert("sas");
                    // busn_adrs = document.getElementById("Addr").value;
                    var stringArray2 = new Array();
                    var stringArray3 = new Array();
                    str1 = document.getElementById("LtLn").value;

                    stringArray2 = str1.split("~");
                    //                        alert(stringArray2.length);
                    //                        debugger;
                    for (var i = 0; i <= stringArray2.length - 1; i++) {

                        stringArray3 = stringArray2[i].split(",");
                        for (var j = 0; j < stringArray3.length - 1; j++) {
                            var Late = stringArray3[0];
                            var Lone = stringArray3[1];

                        }
                        //alert(Late, "-", Lone);
                        // var LamMarker = new L.marker([22.9638331, 88.44523389999995]);
                        //  alert(LamMarker);
                        // marker.push(LamMarker);
                        //  map.addLayer(stringArray2[i]); 
                        //var littleton = L.marker(addlink2);
                        //var lnlt = stringArray2[i];

                        new L.marker([Late, Lone]).addTo(map).bindPopup("<b>Hello!</b><br />...").openPopup();
                    }
                }

            });
        }                        
       

    </script>
@using (Html.BeginForm())
{<body onload="javascript:loc1();">
    @Html.ValidationSummary(true)
    <fieldset>
          <!-- <div id="langChanger">
<a href="javascript:window.lang.change('en');" > English</a> <img src="../../Images/images.jpg" height="10px" width="20px" /> 
<a href="javascript:window.lang.change('th');"> Thai</a>
<a href="javascript:window.lang.change('it');"> Italic</a>


</div>-->
        <table>
        <tr>
        <th>
         <span lang="en">My Listings</span> 
        </th>    
        </tr>
        @foreach (var item in (List<String>)ViewData["addrs"])
        {
        <tr>
                <td> @Html.Label("Addr", @item)</td>
                <td> @Html.Hidden("addrs", @item)</td>
        </tr>
        }
         @foreach (var item in (List<String>)ViewData["lat_lon"])
        {
        <tr>
                <td> @Html.Hidden("LtLn", @item)</td>
        </tr>
        }
          @foreach (var item in (List<String>)ViewData["city_zip"])
        {
        <tr>
                <td> @Html.Hidden("ct_zp", @item)</td>
        </tr>
        }
        </table>

         <table width="60%" align="left">
         <tr>
        <td width="40%" style="text-align:right"><span lang="en">County/Province</span>
        
        </td>
        <td class="editor-field">
         @Html.DropDownListFor(m => m.Country, new SelectList(Model.StateModel, "Id", "StateName"), new { @id = "ddlstate", @style = "width:150px;" })
            @Html.ValidationMessageFor(model => model.StateModel)
        </td>
        @*<td><span lang="en">Property Type</span>:</td>*@
         <td><span lang="en">Location</span>:</td>
         
        
        <td>
         @Html.EditorFor(model => model.State)
            @Html.ValidationMessageFor(model => model.State)
        </td>

        <td width="40%" style="text-align:right"><span lang="en">Town/City</span>
         
        </td>
        <td class="editor-field">
         @Html.EditorFor(model => model.City)
            @Html.ValidationMessageFor(model => model.City)
        </td>
 </tr>
        <tr>
        <td width="40%" style="text-align:right"><span lang="en">Category</span>
         
        </td>
        <td class="editor-field">
         @Html.DropDownListFor(x => x.Catgry, Model.Manufacturers, "select")
            @Html.ValidationMessageFor(model => model.Catgry)
        </td>
        </tr>
        </table>
        <table width="100%" align="center">
        <tr>
        <td style="text-align:center">
        <input type="submit" value="Show Map"  lang="en" onclick="javascript:split();" />
        
							
        
        </td>
        </tr>
        
        </table>
         @*@ViewBag.MyList*@
       

        
    </fieldset>
    <td align="Left" style=" vertical-align:top;">
     <div id="map_canvas" style="height:400px; width:800px; border:1px solid black" >
    </div>
    </td>
    </body>
}








