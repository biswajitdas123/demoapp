@model CorpBusiness.Models.Mov

@{
    ViewBag.Title = "New User";
    Layout = "~/Views/Shared/_SiteLayout.cshtml";
}

<h2>New User</h2>
<script language="javascript">
    function GetCity(_stateId) {
        var procemessage = "<option value='0'> Please wait...</option>";
        $('#ddlcity').html(procemessage).show();
        var url = "/Vendor/GetCityByStaeId/";

        $.ajax({
            url: url,
            data: { stateid: _stateId },
            cache: false,
            type: "POST",
            success: function (data) {
                var markup = "<option value='0'>Select City</option>";
                for (var x = 0; x < data.length; x++) {
                    markup += "<option value=" + data[x].Value + ">" + data[x].Text + "</option>";
                }
                $('#ddlcity').html(markup).show();
            },
            error: function (reponse) {
                alert("error : " + reponse);
            }
        });

    }
</script>
<!-------DateTime picker---------->
 <link rel="stylesheet" href="@Url.Content("http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css")" />
<script src="@Url.Content("http://code.jquery.com/jquery-1.9.1.js")" type="text/javascript"></script>
<script src="@Url.Content("http://code.jquery.com/ui/1.10.2/jquery-ui.js")" type="text/javascript"></script>

<!-------End------->
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<script type="text/javascript">
    $(function () {
        $("#Dob").datepicker();
    });
</script>
@using (Html.BeginForm()) {
    @Html.ValidationSummary(true)
    <fieldset>
        <legend>New User Registration</legend>

         <table width="100%" align="center">
        <tr>
        <td width="40%" style="text-align:right">
       Email :
        </td>
        <td style=" color:Red;padding:5px;">
         @Html.EditorFor(model => model.Email)
         
            @Html.ValidationMessageFor(model => model.Email)
        </td>
       
        <td width="40%" style="text-align:right">
        Name:
        </td>
        <td style=" color:Red;padding:5px;">
         @Html.EditorFor(model => model.Name)
            @Html.ValidationMessageFor(model => model.Name)
        </td>
        </tr>

        <tr>
        <td width="40%" style="text-align:right">
        Address 1:
        </td>
        <td class="editor-field">
         @Html.EditorFor(model => model.Address1)
            @Html.ValidationMessageFor(model => model.Address1)
        </td>
       
        <td width="40%" style="text-align:right">
         Address 2:
        </td>
        <td class="editor-field">
         @Html.EditorFor(model => model.Address2)
            @Html.ValidationMessageFor(model => model.Address2)
        </td>
        </tr>

        <tr>
        <td width="40%" style="text-align:right">
         City :
        </td>
        <td class="editor-field">
         @Html.EditorFor(model => model.City)
            @Html.ValidationMessageFor(model => model.City)
        </td>
       
        <td width="40%" style="text-align:right">
        Country :
        </td>
        <td class="editor-field">
         @Html.DropDownListFor(m => m.StateModel[0].Id, new SelectList(Model.StateModel, "Id", "StateName"), new { @id = "ddlstate", @style = "width:150px;", @onchange = "javascript:GetCity(this.value);" })
        @* @Html.EditorFor(model => model.State)*@
            @Html.ValidationMessageFor(model => model.State)
        </td>
        </tr>

        <tr>
        <td width="40%"  style="text-align:right">
        Pin :
        </td>
        <td class="editor-field">
         @Html.EditorFor(model => model.Pin)
            @Html.ValidationMessageFor(model => model.Pin)
        </td>
       
        <td width="40%"  style="text-align:right">
        State :
        </td>
        <td class="editor-field">
          <select id="ddlcity" name="ddlcity" style="width: 150px">
           </select>
        @* @Html.EditorFor(model => model.Country)*@
            @Html.ValidationMessageFor(model => model.Country)
        </td>
        </tr>

        <tr>
        <td width="40%" style="padding:5px; text-align:right;">
        Phone :
        </td>
        <td class="editor-field">
         @Html.EditorFor(model => model.Phone)
            @Html.ValidationMessageFor(model => model.Phone)
        </td>
       
       <td width="40%" style="padding:5px; text-align:right;">
        Date of Birth :
        </td>
        <td class="editor-field">
       @* <input type="text" id="Dob" />*@
         @Html.EditorFor(model => model.Dob)
            @Html.ValidationMessageFor(model => model.Dob)
           

    
        </td>
        </tr>
       
         <tr>
       <td width="40%" style="padding:5px; text-align:right;">
         Password :
        </td>
        <td style=" color:Red;">
         @Html.EditorFor(model => model.Password)
            @Html.ValidationMessageFor(model => model.Password)
        </td>
       
        <td width="40%" style="padding:5px; text-align:right;">
        Retype Password :
        </td>
        <td style=" color:Red;padding:5px;">
         @Html.EditorFor(model => model.RetypePassword)
            @Html.ValidationMessageFor(model => model.RetypePassword)
        </td>
        </tr>
        
        </table>
        <table width="100%" align="center">
        <tr>
        <td style="text-align:center">
        <input type="submit" value="Submit" onclick="javascript:return ConfirmationBox();"/>
        
        </td>
        </tr>
        </table>
        
        
        
    </fieldset>
}

@*<div>
    @Html.ActionLink("Back to Home", "Users")
</div>*@

